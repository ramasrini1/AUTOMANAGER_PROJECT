{% extends "management/sidebar.html" %}

{% block content %}
    <div class="row justify-content-center mt-5">
        <div class="col-md-8">
            <h1>Customers</h1>
        </div>
        <div class="col-md-4">
          <a class="btn btn-primary" href="{% url 'addcustomer' %}" role="button">Add Customer</a>
      </div>
    </div>
    <table class="table">
      <thead>
        <tr>
          <th scope="col">Name</th>
          <th scope="col">Mobile</th>
          <th scope="col">Email Id</th>
          <th scope="col">View</th>
          <th scope="col">Edit</th>
          <th scope="col">Email</th>
          <th scope="col">Delete</th>
        </tr>
      </thead>
      <tbody>
        {% for customer in customers %}
        <tr>
          <td> {{customer.name}}</td>
          <td> {{customer.mobile}}</td>
          <td> {{customer.email}}</td>
          <td>
            <a class="btn btn-primary" href="{% url 'customer' customer.id %}" role="button">View</a>
          </td>
          <td>
            <form  method="POST" 
                action="{% url 'editcustomer' customer.id %}">
                {% csrf_token %}
                <button class="btn btn-primary" id="edit" type="submit">Edit</button>
            </form>
          </td>
          <td>
            <a class="btn btn-primary" href="#" role="button">Email</a>
          </td>
          <td>
            <form  method="POST" 
              action="{% url 'deletecustomer' customer.id %}">
              {% csrf_token %}
              <button class="btn btn-primary" id="delete" type="submit">Delete</button>
            </form>
          </td>
          
        </tr>
        {% endfor %}
      </tbody>
    </table>
    


{% endblock %}